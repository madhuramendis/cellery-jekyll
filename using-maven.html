<!DOCTYPE html>
<html lang="en" class=" is-copy-enabled emoji-size-boost">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="bootstrap/css/bootstrap.css" rel="stylesheet">
        <script src="bootstrap/js/jquery.js"></script>
        <script src="bootstrap/js/bootstrap.js"></script>
        <script src="bootstrap/menu/jquery.bootstrap-dropdown-hover.js"></script>
       
        <link href='//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800' rel='stylesheet' type='text/css'>
        
        
        <link href="css/wso2-styles.css" rel="stylesheet">
        <link href="css/syntax.css" rel="stylesheet">
        
    </head>
    <body>
        <div class="row cHeader">
            <div class="container">
                <a href="http://wso2.com" target="_blank">
                <?xml version="1.0" encoding="utf-8"?>
                <!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
                <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                         width="115.2px" height="45.2px" viewBox="0 0 115.2 45.2" enable-background="new 0 0 115.2 45.2" xml:space="preserve">
                <g>
                        <path fill-rule="evenodd" clip-rule="evenodd" fill="#F47B20" d="M83.7,34.6c8.9,0,16.1-7.3,16.1-16.1c0-8.9-7.3-16.2-16.1-16.2
                                c-8.9,0-16.2,7.3-16.2,16.2C67.5,27.4,74.8,34.6,83.7,34.6z"/>
                        <polyline fill-rule="evenodd" clip-rule="evenodd" fill="none" stroke="#2F292B" stroke-width="2.196" points="99.8,18.6 
                                93.9,18.6 90.4,24.9 83.7,8.6 78.4,20.5 67.7,20.5 	"/>
                        <path fill="#F47B20" d="M45.3,2.2h1.4l-1.4,3.4V2.2L45.3,2.2z M45.3,30.8c0.6,1.1,1.4,2,2.2,2.7c1.8,1.5,4,2.2,6.7,2.2
                                c2.9,0,5.3-1,7.3-2.9c2-2,3-4.4,3-7.2c0-2.5-0.8-4.5-2.4-5.8c-1.6-1.3-3.3-2.4-5.2-3.2L56,16.1l-0.9-0.4c-1.7-0.9-3.1-1.7-4.2-2.4
                                c-1.1-0.8-1.6-1.9-1.6-3.3c0-1.5,0.6-2.6,1.7-3.5c1.1-0.9,2.4-1.4,4-1.4c1,0,1.9,0.2,2.6,0.6c0.7,0.4,1.4,1,2.1,1.9l0.3,0.5
                                c0.1,0.1,0.2,0.2,0.4,0.5l2.9-1.9c-1-1.7-2.1-3-3.6-3.8c-1.4-0.9-3-1.3-4.6-1.3c-2.8,0-5.1,0.8-6.9,2.4c-1.8,1.6-2.7,3.6-2.7,6.1
                                c0,2.3,0.8,4.1,2.4,5.4c1.6,1.3,3.3,2.3,5.2,3.1l0.6,0.3l0.6,0.2c1.8,0.9,3.3,1.8,4.5,2.6c1.2,0.9,1.9,2.1,1.9,3.8
                                c0,1.9-0.6,3.5-1.9,4.8c-1.3,1.3-2.9,1.9-4.8,1.9c-1.7,0-3.1-0.5-4.3-1.6c-1.1-1.1-1.9-2.6-2.4-4.6l-2.2,0.7V30.8z M12.8,26.9
                                L23.2,0.4l9.8,26.5l9.7-24.8h2.6v3.4L32.8,36.9l-9.7-26.5L12.7,36.9L0,2.2h4L12.8,26.9L12.8,26.9z M45.3,26.9l-1.4,0.4
                                c0.3,1.3,0.8,2.5,1.4,3.6V26.9z"/>
                        <path fill="#FFFFFF" d="M83.7,0C89,0.1,93.4,1.9,97,5.4c3.6,3.6,5.4,8,5.4,13.3c0,5.2-1.8,9.6-5.4,13.2c-3.6,3.6-8,5.4-13.2,5.4
                                c0,0,0,0,0,0v-3.5c2.7,0,5.2-0.7,7.6-2c2.3-1.3,4.2-3.2,5.5-5.5c1.3-2.3,2-4.9,2-7.7c0-2.8-0.7-5.4-2-7.7c-1.3-2.3-3.2-4.1-5.5-5.5
                                c-2.4-1.4-4.9-2-7.5-2.1V0z M83.5,0c0.1,0,0.2,0,0.2,0v3.5c0,0-0.1,0-0.1,0c-2.6,0-5.1,0.7-7.5,2.1c-2.4,1.4-4.2,3.2-5.5,5.5
                                c-1.3,2.3-2,4.9-2,7.7c0,4.2,1.5,7.8,4.4,10.7c2.9,2.9,6.5,4.4,10.6,4.4c0,0,0,0,0.1,0v3.5c-5.2,0-9.7-1.8-13.3-5.4
                                c-3.6-3.6-5.4-8-5.4-13.1c0-3.4,0.8-6.6,2.5-9.5c1.7-2.9,3.9-5.2,6.8-6.9C77.1,0.8,80.2,0,83.5,0z"/>
                        <path fill="#FFFFFF" d="M103.7,17.5c0.8-0.2,1.7-0.4,2.7-0.4c2.5,0,4.6,0.8,6.1,2.4c1.5,1.6,2.3,3.5,2.3,5.7c0,1.6-0.4,3-1.1,4.4
                                c-0.8,1.4-2.2,3.2-4.3,5.5l-6.8,7.3h12.6v2.6H96.6L107,33.9c2.1-2.3,3.5-3.9,4.1-5c0.6-1.1,1-2.2,1-3.5c0-1.5-0.6-2.9-1.7-4
                                c-1.1-1.1-2.6-1.7-4.2-1.7c-0.9,0-1.8,0.2-2.6,0.5c0.1-0.7,0.1-1.3,0.1-2C103.7,18,103.7,17.8,103.7,17.5z"/>
                </g>
                </svg>
                </a>
            </div>
        </div>
        <div class="row cIntro">
            <div class="container">
                <div class="col-sm-12 col-md-12">
                    <h1>Using Maven to Build WSO2 Products</h1>
                    <p>You can use Maven to build products from the WSO2 repositories that you clone to your computer. Following are the prerequisites, the build commands, and the order in which you build the repositories. Before you begin, see <a href="github-repositories.html" target="_blank">WSO2 GitHub Repositories</a>.</p>
                </div>
            </div>
        </div>
        <a id="WSO2-Repositories"></a>
        <div class="row cRowColored">
             <div class="container">
                 <div class="col-sm-12 col-md-12">
                    <h2>Prerequisites for using Maven</h2>
                    <ul>
                        <li>
                            <p>Install Maven and JDK. For compatible versions, see the Installation Prerequisites topic in the <a href="https://docs.wso2.com" target="_blank">documentation</a> for the product you're working with.</p>
                        </li>
                        <li>
                            <p>Set the environment variable <code>MAVEN_OPTS="-Xmx2048M -XX:MaxPermSize=1024m"</code> to avoid the Maven OutOfMemoryError.</p>
                        </li>
                        <li>
                            <p>Make sure the build server has an active Internet connection to download dependencies while building.</p>
                        </li>
                    </ul>
                 </div>
             </div>
        </div>
        
        <a id="WSO2-GitHub-Guidelines"></a>
        <div class="row cRowColored">
             <div class="container">
                 <div class="col-sm-12 col-md-12">
                    <h2>Maven build commands</h2>
                    <p>You use one of the following Maven commands to build your repositories and create complete release artifacts of a WSO2 product, including the binary and source distributions.</p>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>
                                    Command
                                </th>
                                <th>
                                    Description
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <code>mvn clean install</code>
                                </td>
                                <td>
                                    The binary and source distributions.
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <nobr><code>mvn clean install -Dmaven.test.skip=true</code></nobr> 
                                </td>
                                <td>
                                    The binary and source distributions, without running any of the unit tests.
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <nobr><code>mvn clean install -Dmaven.test.skip=true -o</code></nobr> 
                                </td>
                                <td>
                                    The binary and source distributions, without running any of the unit tests, in offline mode. This can be done only if you have already built the source at least once.
                                </td>
                            </tr>
                        </tbody>
                    </table>
                     <p><b>Note:</b> If you get the <a href="https://issues.apache.org/jira/browse/FELIX-3571">error</a> "Comparison method violates its general contract" while building the Carbon Kernel repository, use the <code>java.util.Arrays.useLegacyMergeSort</code> JVM parameter with the Maven command as follows:</p>
                     <p><code>_JAVA_OPTIONS=-Djava.util.Arrays.useLegacyMergeSort=true mvn clean install</code></p>
                 </div>
             </div>
        </div>
        
        <div class="row cRowColored">
            <div class="container">
                <div class="col-sm-12 col-md-12">
                    <h2>Building a WSO2 product</h2>
                    <ol>
                        <li>
                            <p>Build all the <strong>component-level</strong> repositories that you have cloned to your computer and edited. Be sure that you build the repositories in the correct order. Email <a href="mailto:dev@wso2.org">dev@wso2.org</a> if you need help.</p>
                        </li>
                        <li>Once you have built the <strong>component-level</strong> repositories, build the <strong>product-level</strong> repository that you have cloned to your computer.</li>
                        <li>When you build the product repository, Maven will first check in the local Maven repository on your computer and fetch the repositories that you built in Step 1. Maven will then fetch the remaining dependent repositories from Nexus. This process will give you a new product pack with your changes.</li>
                    </ol>
                    <p>You can find the new binary pack (ZIP file) in the <code>&LT;PRODUCT_REPOSITORY_HOME&GT;/modules/distribution/target</code> directory, which you can use to distribute the product if needed.</p>
                </div>
             </div>
        </div>
        <div class="row cFooter">
            <div class="container">
                <div class="col-sm-12 col-md-12">
                    &COPY; <a href="http://wso2.com" target="_blank">WSO2</a>
                </div>
            </div>
        </div>
    </body>
</html>

